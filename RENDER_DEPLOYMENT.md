# Render éƒ¨ç½²æŒ‡å—ï¼ˆMonorepo å°ˆæ¡ˆï¼‰

## âš ï¸ é‡è¦æç¤º

æ­¤å°ˆæ¡ˆæ˜¯ **monorepo** çµæ§‹ï¼ŒåŒ…å« `backend` å’Œ `frontend` å…©å€‹ç¨ç«‹çš„æ‡‰ç”¨ç¨‹å¼ã€‚
åœ¨ Render éƒ¨ç½²æ™‚ï¼Œéœ€è¦**åˆ†åˆ¥éƒ¨ç½²**é€™å…©å€‹æœå‹™ã€‚

## ğŸ”§ Render å¹³å°å„ªå‹¢

- âœ… æ”¯æ´ Docker å’ŒåŸç”Ÿ Node.js éƒ¨ç½²
- âœ… æä¾›å…è²»çš„ PostgreSQL å’Œ Redis
- âœ… è‡ªå‹•å¾ GitHub éƒ¨ç½²
- âœ… å…è²» SSL æ†‘è­‰
- âœ… ç°¡å–®çš„ç’°å¢ƒè®Šæ•¸ç®¡ç†
- âœ… æœ‰å…è²»å±¤ç´šå¯ç”¨ï¼ˆé©åˆæ¸¬è©¦ï¼‰

## ğŸ“‹ éƒ¨ç½²å‰æº–å‚™

### 1. æ¨é€åˆ° GitHub

```bash
# åˆå§‹åŒ– Gitï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
git init

# æ·»åŠ æ‰€æœ‰æª”æ¡ˆ
git add .

# æäº¤
git commit -m "æº–å‚™ Render éƒ¨ç½²"

# åœ¨ GitHub å‰µå»ºæ–°çš„ repositoryï¼ˆå»ºè­°è¨­ç‚º privateï¼‰
# ç„¶å¾ŒåŸ·è¡Œï¼š
git remote add origin https://github.com/your-username/your-repo-name.git
git branch -M main
git push -u origin main
```

## ğŸš€ Render éƒ¨ç½²æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šå‰µå»º PostgreSQL è³‡æ–™åº«

1. è¨ªå• [Render Dashboard](https://dashboard.render.com)
2. ä½¿ç”¨ GitHub å¸³è™Ÿç™»å…¥
3. é»æ“Š **"New +"** â†’ **"PostgreSQL"**
4. è¨­å®šè³‡æ–™åº«ï¼š
   - **Name**: `fsvs-database`
   - **Database**: `foreign_student_verification`
   - **User**: `postgres`ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
   - **Region**: é¸æ“‡æœ€è¿‘çš„å€åŸŸï¼ˆSingapore æˆ– Oregonï¼‰
   - **Plan**: é¸æ“‡ **Free** æˆ– **Starter ($7/æœˆ)**
5. é»æ“Š **"Create Database"**
6. ç­‰å¾…è³‡æ–™åº«å‰µå»ºå®Œæˆï¼ˆç´„ 1-2 åˆ†é˜ï¼‰
7. **é‡è¦**ï¼šè¤‡è£½ **Internal Database URL**ï¼ˆæ ¼å¼ï¼š`postgresql://...`ï¼‰

### æ­¥é©Ÿ 2ï¼šå‰µå»º Redis å¯¦ä¾‹

1. é»æ“Š **"New +"** â†’ **"Redis"**
2. è¨­å®š Redisï¼š
   - **Name**: `fsvs-redis`
   - **Region**: èˆ‡è³‡æ–™åº«ç›¸åŒå€åŸŸ
   - **Plan**: é¸æ“‡ **Free** æˆ– **Starter ($7/æœˆ)**
3. é»æ“Š **"Create Redis"**
4. ç­‰å¾… Redis å‰µå»ºå®Œæˆ
5. **é‡è¦**ï¼šè¤‡è£½ **Internal Redis URL**ï¼ˆæ ¼å¼ï¼š`redis://...`ï¼‰

### æ­¥é©Ÿ 3ï¼šéƒ¨ç½²å¾Œç«¯æœå‹™

1. é»æ“Š **"New +"** â†’ **"Web Service"**
2. é¸æ“‡ **"Build and deploy from a Git repository"**
3. é»æ“Š **"Connect"** é€£æ¥ä½ çš„ GitHub repository
4. è¨­å®šå¾Œç«¯æœå‹™ï¼š
   - **Name**: `fsvs-backend`
   - **Region**: èˆ‡è³‡æ–™åº«ç›¸åŒå€åŸŸ
   - **Branch**: `main`
   - **Root Directory**: `backend` âš ï¸ **éå¸¸é‡è¦**
   - **Runtime**: `Node`
   - **Build Command**: `npm install && npm run build`
   - **Start Command**: `npm start`
   - **Plan**: é¸æ“‡ **Free** æˆ– **Starter ($7/æœˆ)**

5. é»æ“Š **"Advanced"** å±•é–‹é€²éšè¨­å®š

6. æ·»åŠ ç’°å¢ƒè®Šæ•¸ï¼ˆEnvironment Variablesï¼‰ï¼š

```bash
# è³‡æ–™åº«é€£ç·šï¼ˆä½¿ç”¨æ­¥é©Ÿ 1 è¤‡è£½çš„ Internal Database URLï¼‰
DATABASE_URL=postgresql://postgres:xxxxx@dpg-xxxxx-a/foreign_student_verification

# Redis é€£ç·šï¼ˆä½¿ç”¨æ­¥é©Ÿ 2 è¤‡è£½çš„ Internal Redis URLï¼‰
REDIS_URL=redis://red-xxxxx:6379

# JWT è¨­å®šï¼ˆå¿…é ˆï¼‰
JWT_SECRET=è«‹æ”¹æˆä¸€å€‹é•·çš„éš¨æ©Ÿå­—ä¸²è‡³å°‘32å­—å…ƒä»¥ä¸Š
JWT_EXPIRES_IN=7d

# æ‡‰ç”¨ç¨‹å¼è¨­å®š
NODE_ENV=production
PORT=5000

# æª”æ¡ˆä¸Šå‚³è¨­å®š
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/tmp/uploads

# CORS è¨­å®šï¼ˆç¨å¾Œå¡«å…¥å‰ç«¯ç¶²å€ï¼‰
FRONTEND_URL=https://your-frontend.onrender.com
```

7. é»æ“Š **"Create Web Service"**
8. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆç´„ 3-5 åˆ†é˜ï¼‰
9. éƒ¨ç½²å®Œæˆå¾Œï¼Œè¤‡è£½å¾Œç«¯ç¶²å€ï¼ˆä¾‹å¦‚ï¼š`https://fsvs-backend.onrender.com`ï¼‰

### æ­¥é©Ÿ 4ï¼šéƒ¨ç½²å‰ç«¯æœå‹™

1. é»æ“Š **"New +"** â†’ **"Web Service"**
2. é¸æ“‡ **"Build and deploy from a Git repository"**
3. é¸æ“‡åŒä¸€å€‹ GitHub repository
4. è¨­å®šå‰ç«¯æœå‹™ï¼š
   - **Name**: `fsvs-frontend`
   - **Region**: èˆ‡å¾Œç«¯ç›¸åŒå€åŸŸ
   - **Branch**: `main`
   - **Root Directory**: `frontend` âš ï¸ **éå¸¸é‡è¦**
   - **Runtime**: `Node`
   - **Build Command**: `npm install && npm run build`
   - **Start Command**: `npm run start`
   - **Plan**: é¸æ“‡ **Free** æˆ– **Starter ($7/æœˆ)**

5. æ·»åŠ ç’°å¢ƒè®Šæ•¸ï¼š

```bash
# å¾Œç«¯ API ç¶²å€ï¼ˆä½¿ç”¨æ­¥é©Ÿ 3.9 è¤‡è£½çš„å¾Œç«¯ç¶²å€ï¼‰
VITE_API_URL=https://fsvs-backend.onrender.com

NODE_ENV=production
```

6. é»æ“Š **"Create Web Service"**
7. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆç´„ 3-5 åˆ†é˜ï¼‰
8. éƒ¨ç½²å®Œæˆå¾Œï¼Œè¤‡è£½å‰ç«¯ç¶²å€ï¼ˆä¾‹å¦‚ï¼š`https://fsvs-frontend.onrender.com`ï¼‰

### æ­¥é©Ÿ 5ï¼šæ›´æ–°å¾Œç«¯ CORS è¨­å®š

1. å›åˆ°å¾Œç«¯æœå‹™é é¢
2. é»æ“Šå·¦å´ **"Environment"**
3. æ‰¾åˆ° `FRONTEND_URL` è®Šæ•¸
4. æ›´æ–°ç‚ºæ­¥é©Ÿ 4.8 çš„å‰ç«¯ç¶²å€
5. é»æ“Š **"Save Changes"**
6. å¾Œç«¯æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²ï¼ˆç´„ 1-2 åˆ†é˜ï¼‰

### æ­¥é©Ÿ 6ï¼šåˆå§‹åŒ–è³‡æ–™åº«

è³‡æ–™åº«æœƒåœ¨å¾Œç«¯é¦–æ¬¡å•Ÿå‹•æ™‚è‡ªå‹•åˆå§‹åŒ–ã€‚

å¦‚éœ€æ‰‹å‹•åŸ·è¡Œé·ç§»ï¼š
1. é€²å…¥å¾Œç«¯æœå‹™é é¢
2. é»æ“Š **"Shell"** æ¨™ç±¤
3. åŸ·è¡Œï¼š`npm run migrate`

## âœ… é©—è­‰éƒ¨ç½²

### æ¸¬è©¦å¾Œç«¯
è¨ªå•ï¼š`https://your-backend.onrender.com/api/health`

æ‡‰è©²çœ‹åˆ°ï¼š
```json
{"status":"ok","timestamp":"..."}
```

### æ¸¬è©¦å‰ç«¯
è¨ªå•ï¼š`https://your-frontend.onrender.com`

æ‡‰è©²çœ‹åˆ°ç™»å…¥é é¢ã€‚

### æ¸¬è©¦ç™»å…¥
- å¸³è™Ÿï¼š`admin`
- å¯†ç¢¼ï¼š`admin123`

**âš ï¸ é‡è¦**ï¼šé¦–æ¬¡ç™»å…¥å¾Œè«‹ç«‹å³ä¿®æ”¹å¯†ç¢¼ï¼

## ğŸ’° é ä¼°è²»ç”¨

### å…è²»æ–¹æ¡ˆï¼ˆé©åˆæ¸¬è©¦ï¼‰
- PostgreSQL Free: $0
- Redis Free: $0
- Backend Free: $0
- Frontend Free: $0
- **ç¸½è¨ˆï¼š$0/æœˆ**

**é™åˆ¶**ï¼š
- æœå‹™é–’ç½® 15 åˆ†é˜å¾Œæœƒä¼‘çœ 
- ä¸‹æ¬¡è¨ªå•éœ€è¦ 30-60 ç§’å–šé†’
- æ¯æœˆ 750 å°æ™‚å…è²»é‹è¡Œæ™‚é–“

### ä»˜è²»æ–¹æ¡ˆï¼ˆé©åˆæ­£å¼ä½¿ç”¨ï¼‰
- PostgreSQL Starter: $7/æœˆ
- Redis Starter: $7/æœˆ
- Backend Starter: $7/æœˆ
- Frontend Starter: $7/æœˆ
- **ç¸½è¨ˆï¼š$28/æœˆ**ï¼ˆç´„ NT$850ï¼‰

**å„ªå‹¢**ï¼š
- æœå‹™ä¸æœƒä¼‘çœ 
- æ›´å¥½çš„æ•ˆèƒ½
- æ›´å¤šè³‡æº

## ğŸ”§ Render é…ç½®æª”æ¡ˆ

ç‚ºäº†æ›´æ–¹ä¾¿éƒ¨ç½²ï¼Œæˆ‘å€‘å·²ç¶“å‰µå»ºäº† `render.yaml` é…ç½®æª”æ¡ˆã€‚

ä½¿ç”¨ Blueprint ä¸€éµéƒ¨ç½²ï¼š
1. åœ¨ Render Dashboard é»æ“Š **"New +"** â†’ **"Blueprint"**
2. é€£æ¥ä½ çš„ GitHub repository
3. Render æœƒè‡ªå‹•è®€å– `render.yaml` ä¸¦å‰µå»ºæ‰€æœ‰æœå‹™
4. åªéœ€è¨­å®šç’°å¢ƒè®Šæ•¸å³å¯

## ğŸ“Š ç›£æ§èˆ‡æ—¥èªŒ

### æŸ¥çœ‹æ—¥èªŒ
1. é€²å…¥æœå‹™é é¢
2. é»æ“Š **"Logs"** æ¨™ç±¤
3. å¯ä»¥çœ‹åˆ°å³æ™‚æ—¥èªŒå’Œæ­·å²è¨˜éŒ„

### ç›£æ§æ•ˆèƒ½
1. é€²å…¥æœå‹™é é¢
2. é»æ“Š **"Metrics"** æ¨™ç±¤
3. å¯ä»¥çœ‹åˆ° CPUã€è¨˜æ†¶é«”ã€è«‹æ±‚æ•¸ç­‰æŒ‡æ¨™

### è¨­å®šå‘Šè­¦
1. é€²å…¥æœå‹™é é¢
2. é»æ“Š **"Settings"** â†’ **"Notifications"**
3. å¯ä»¥è¨­å®šéƒ¨ç½²å¤±æ•—ã€æœå‹™ç•°å¸¸ç­‰å‘Šè­¦

## ğŸ”„ è‡ªå‹•éƒ¨ç½²

Render æœƒè‡ªå‹•ç›£æ§ GitHub repositoryï¼š
- æ¨é€åˆ° `main` åˆ†æ”¯æœƒè‡ªå‹•è§¸ç™¼éƒ¨ç½²
- å¯ä»¥åœ¨æœå‹™è¨­å®šä¸­é—œé–‰è‡ªå‹•éƒ¨ç½²
- æ”¯æ´ Pull Request é è¦½ç’°å¢ƒ

```bash
# æ›´æ–°ç¨‹å¼ç¢¼ä¸¦è‡ªå‹•éƒ¨ç½²
git add .
git commit -m "æ›´æ–°åŠŸèƒ½"
git push origin main
```

## ğŸ”’ å®‰å…¨å»ºè­°

1. **ä¿®æ”¹é è¨­å¯†ç¢¼**ï¼šé¦–æ¬¡ç™»å…¥å¾Œç«‹å³ä¿®æ”¹ admin å¯†ç¢¼
2. **JWT Secret**ï¼šä½¿ç”¨å¼·éš¨æ©Ÿå­—ä¸²ï¼ˆè‡³å°‘ 32 å­—å…ƒï¼‰
3. **ç’°å¢ƒè®Šæ•¸**ï¼šä¸è¦å°‡æ•æ„Ÿè³‡è¨Šæäº¤åˆ° Git
4. **å®šæœŸå‚™ä»½**ï¼šå®šæœŸå‚™ä»½è³‡æ–™åº«
5. **ç›£æ§æ—¥èªŒ**ï¼šå®šæœŸæª¢æŸ¥éŒ¯èª¤æ—¥èªŒ
6. **HTTPS**ï¼šRender è‡ªå‹•æä¾› SSL æ†‘è­‰

## ğŸ”§ å¸¸è¦‹å•é¡Œ

### Q1: æœå‹™å•Ÿå‹•å¾ˆæ…¢ï¼Ÿ
**A**: å…è²»æ–¹æ¡ˆçš„æœå‹™æœƒåœ¨é–’ç½®å¾Œä¼‘çœ ï¼Œé¦–æ¬¡è¨ªå•éœ€è¦ 30-60 ç§’å–šé†’ã€‚å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆå¯è§£æ±ºæ­¤å•é¡Œã€‚

### Q2: éƒ¨ç½²å¤±æ•—æ€éº¼è¾¦ï¼Ÿ
**A**: æŸ¥çœ‹ **Logs** é é¢çš„éŒ¯èª¤è¨Šæ¯ã€‚å¸¸è¦‹å•é¡Œï¼š
- Root Directory è¨­å®šéŒ¯èª¤ï¼ˆå¿…é ˆæ˜¯ `backend` æˆ– `frontend`ï¼‰
- ç’°å¢ƒè®Šæ•¸è¨­å®šéŒ¯èª¤
- è³‡æ–™åº«é€£ç·šå¤±æ•—
- Build Command æˆ– Start Command éŒ¯èª¤

### Q3: å¦‚ä½•é€£æ¥è³‡æ–™åº«ï¼Ÿ
**A**: ä½¿ç”¨ **Internal Database URL**ï¼ˆä»¥ `postgresql://` é–‹é ­ï¼‰ï¼Œä¸è¦ä½¿ç”¨ External URLã€‚

### Q4: å‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯ï¼Ÿ
**A**: æª¢æŸ¥ï¼š
1. å‰ç«¯çš„ `VITE_API_URL` æ˜¯å¦æ­£ç¢ºï¼ˆä½¿ç”¨å¾Œç«¯çš„å®Œæ•´ç¶²å€ï¼‰
2. å¾Œç«¯çš„ `FRONTEND_URL` æ˜¯å¦æ­£ç¢ºï¼ˆä½¿ç”¨å‰ç«¯çš„å®Œæ•´ç¶²å€ï¼‰
3. å…©å€‹æœå‹™éƒ½å·²æˆåŠŸéƒ¨ç½²ä¸”æ­£åœ¨é‹è¡Œ

### Q5: å¦‚ä½•å‚™ä»½è³‡æ–™åº«ï¼Ÿ
**A**: 
1. é€²å…¥ PostgreSQL æœå‹™é é¢
2. é»æ“Š **"Backups"** æ¨™ç±¤
3. é»æ“Š **"Create Backup"** æ‰‹å‹•å‚™ä»½
4. ä»˜è²»æ–¹æ¡ˆæ”¯æ´è‡ªå‹•å®šæœŸå‚™ä»½

### Q6: å¦‚ä½•æŸ¥çœ‹è³‡æ–™åº«å…§å®¹ï¼Ÿ
**A**: 
1. é€²å…¥ PostgreSQL æœå‹™é é¢
2. é»æ“Š **"Connect"** å–å¾—é€£ç·šè³‡è¨Š
3. ä½¿ç”¨ pgAdmin æˆ– DBeaver ç­‰å·¥å…·é€£æ¥
4. æˆ–ä½¿ç”¨ Render çš„ **"Shell"** åŠŸèƒ½åŸ·è¡Œ SQL

### Q7: æª”æ¡ˆä¸Šå‚³åˆ°å“ªè£¡ï¼Ÿ
**A**: ç›®å‰é…ç½®ä½¿ç”¨ `/tmp/uploads`ï¼ˆè‡¨æ™‚å„²å­˜ï¼‰ã€‚æ­£å¼ç’°å¢ƒå»ºè­°ï¼š
- ä½¿ç”¨ AWS S3
- ä½¿ç”¨ Cloudinary
- ä½¿ç”¨ Render Diskï¼ˆä»˜è²»åŠŸèƒ½ï¼‰

### Q8: å¦‚ä½•è¨­å®šè‡ªè¨‚ç¶²åŸŸï¼Ÿ
**A**: 
1. é€²å…¥æœå‹™é é¢
2. é»æ“Š **"Settings"** â†’ **"Custom Domain"**
3. æ·»åŠ ä½ çš„ç¶²åŸŸä¸¦è¨­å®š DNS
4. Render æœƒè‡ªå‹•é…ç½® SSL æ†‘è­‰

## ğŸš€ æ•ˆèƒ½å„ªåŒ–å»ºè­°

### 1. ä½¿ç”¨ CDN
- å‰ç«¯éœæ…‹è³‡æºå¯ä»¥ä½¿ç”¨ Cloudflare CDN
- åŠ é€Ÿå…¨çƒè¨ªå•é€Ÿåº¦

### 2. è³‡æ–™åº«å„ªåŒ–
- å®šæœŸæ¸…ç†èˆŠè³‡æ–™
- æ·»åŠ é©ç•¶çš„ç´¢å¼•
- ä½¿ç”¨é€£ç·šæ± 

### 3. å¿«å–ç­–ç•¥
- ä½¿ç”¨ Redis å¿«å–å¸¸ç”¨è³‡æ–™
- è¨­å®šé©ç•¶çš„å¿«å–éæœŸæ™‚é–“

### 4. ç›£æ§èˆ‡å‘Šè­¦
- è¨­å®šæ•ˆèƒ½ç›£æ§
- é…ç½®å‘Šè­¦é€šçŸ¥
- å®šæœŸæª¢æŸ¥æ—¥èªŒ

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœ‰å•é¡Œï¼Œè«‹ï¼š
1. æŸ¥çœ‹ Render æœå‹™çš„ Logs é é¢
2. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸è¨­å®š
3. ç¢ºèªè³‡æ–™åº«é€£ç·šç‹€æ…‹
4. æŸ¥çœ‹ Render å®˜æ–¹æ–‡ä»¶ï¼šhttps://render.com/docs
5. æŸ¥çœ‹æœ¬å°ˆæ¡ˆçš„ GitHub Issues

## ğŸ”— ç›¸é—œé€£çµ

- Render å®˜ç¶²ï¼šhttps://render.com
- Render æ–‡ä»¶ï¼šhttps://render.com/docs
- Render ç¤¾ç¾¤ï¼šhttps://community.render.com
- Render ç‹€æ…‹é é¢ï¼šhttps://status.render.com

---

**éƒ¨ç½²å®Œæˆå¾Œï¼Œè¨˜å¾—å°‡å‰å¾Œç«¯ç¶²å€è¨˜éŒ„ä¸‹ä¾†ï¼**

**å»ºè­°**ï¼šå…ˆä½¿ç”¨å…è²»æ–¹æ¡ˆæ¸¬è©¦ï¼Œç¢ºèªä¸€åˆ‡æ­£å¸¸å¾Œå†å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆã€‚
